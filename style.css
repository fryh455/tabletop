:root{
  --bg:#111;
  --panel:#1a1a1a;
  --accent:#2d7cf5;
  --white: #ffffff;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:var(--bg);color:#eee;font-family:system-ui,Arial,Helvetica;}
#topbar{
  position:fixed;left:10px;right:10px;top:10px;display:flex;justify-content:space-between;gap:12px;z-index:2000;
}
#auth{display:flex;gap:8px;align-items:center}
#auth input, #auth select{padding:6px;border-radius:6px;border:1px solid rgba(255,255,255,0.06);background:#0f0f0f;color:#eee}
#auth button{padding:6px 10px;background:var(--accent);border:none;border-radius:6px;color:white;cursor:pointer}
#controls button{padding:6px 10px;background:var(--accent);border:none;border-radius:6px;color:white;cursor:pointer}

#viewport{position:fixed;inset:0;margin:0;overflow:hidden;cursor:grab}
#world{position:absolute;transform-origin:0 0}
#map{width:2000px;height:2000px;background:radial-gradient(circle at center,#444 0%,#111 100%);position:absolute;left:0;top:0}

/* token */
.token{
  position:absolute;
  width:44px;height:44px;border-radius:50%;
  background:crimson;
  transform:translate(-50%,-50%);
  cursor:pointer;
  box-shadow:0 6px 18px rgba(0,0,0,0.6);
  transition:box-shadow .12s, outline .08s, transform .08s;
  display:flex;align-items:center;justify-content:center;font-size:12px;color:white;
}

/* indication when the current user CAN move the token */
.token.movable{
  outline: 3px solid rgba(255,255,255,0.95);
  box-shadow: 0 0 12px rgba(255,255,255,0.12);
}

/* small scale on press */
.token.dragging{ transform: translate(-50%,-50%) scale(0.95); cursor:grabbing }

/* sheet */
#sheet{
  position:fixed;left:10px;bottom:70px;width:260px;background:var(--panel);padding:12px;border-radius:8px;border:1px solid rgba(255,255,255,0.04);z-index:2000;
}
.hidden{display:none}

/* auth/user info layout */
#userInfo{display:flex;gap:8px;align-items:center}
#who{font-weight:600}

/* responsive micro */
@media (max-width:600px){
  #sheet{width:90%;left:5%}
  #topbar{flex-direction:column;gap:6px}
}
