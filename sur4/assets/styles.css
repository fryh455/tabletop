:root{
  --bg:#0c0f14;--panel:#121825;--text:#e8eefc;--muted:#a9b4cf;
  --border:rgba(255,255,255,.08);--shadow:0 12px 40px rgba(0,0,0,.35);
  --radius:14px;--font:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial
}
*{box-sizing:border-box}html,body{height:100%}
body{margin:0;font-family:var(--font);background:radial-gradient(1200px 800px at 20% 10%, rgba(91,214,255,.08), transparent),radial-gradient(800px 600px at 80% 30%, rgba(255,91,110,.05), transparent),var(--bg);color:var(--text)}
code{color:#c9e6ff}
#topbar{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:12px 14px;border-bottom:1px solid var(--border);background:rgba(10,14,22,.85);backdrop-filter:blur(10px);position:sticky;top:0;z-index:5}
#brand{font-weight:800;letter-spacing:.2px}
#session-badge{color:var(--muted);font-size:13px;max-width:40vw;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
#topbar-actions{display:flex;align-items:center;gap:8px;flex-wrap:wrap}
button,.btn-like{border:1px solid var(--border);background:rgba(255,255,255,.05);color:var(--text);padding:8px 10px;border-radius:10px;cursor:pointer;user-select:none}
button:hover,.btn-like:hover{border-color:rgba(91,214,255,.35)}
button.secondary,.btn-like.secondary{opacity:.9}
button.danger{border-color:rgba(255,91,110,.35)}
button.danger:hover{border-color:rgba(255,91,110,.6)}
.hidden{display:none!important}
#main{display:grid;grid-template-columns:1fr 420px;gap:12px;padding:12px}
#canvas-pane,#side-pane{background:rgba(255,255,255,.03);border:1px solid var(--border);border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
#canvas-toolbar{display:flex;align-items:center;gap:8px;padding:10px;border-bottom:1px solid var(--border);background:rgba(255,255,255,.02)}
#hint{margin-left:auto;color:var(--muted);font-size:12px}
#tabletop-canvas{width:100%;height:calc(100vh - 150px);display:block;background:linear-gradient(0deg, rgba(255,255,255,.02), rgba(255,255,255,.01))}
.tabs{display:flex;gap:6px;padding:10px;border-bottom:1px solid var(--border);background:rgba(255,255,255,.02)}
.tab[aria-selected="true"]{border-color:rgba(91,214,255,.5)}
.tab-panel{padding:10px}
.row{display:flex;justify-content:space-between;gap:8px;align-items:center}
.row-gap{display:grid;gap:8px}
.grid-2{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
.sheet-card,.token-card,.roll-card{border:1px solid var(--border);border-radius:12px;padding:10px;background:rgba(0,0,0,.12);display:grid;gap:8px}
.sheet-card .meta{color:var(--muted);font-size:12px}
.muted{color:var(--muted)}.small{font-size:12px}
.attr-grid{display:grid;grid-template-columns:repeat(2,1fr);gap:8px}
.attr{border:1px solid var(--border);border-radius:12px;padding:10px;background:rgba(255,255,255,.02);cursor:pointer;user-select:none}
.attr:hover{border-color:rgba(91,214,255,.35)}
.attr .k{color:var(--muted);font-size:12px}
.attr .v{font-size:18px;font-weight:800}
.pill{display:inline-flex;align-items:center;gap:6px;padding:6px 8px;border-radius:999px;border:1px solid var(--border);background:rgba(255,255,255,.03);color:var(--muted);font-size:12px}
.modal-overlay{position:fixed;inset:0;background:rgba(0,0,0,.6);display:grid;place-items:center;z-index:100}
.modal{width:min(620px, calc(100vw - 24px));background:var(--panel);border:1px solid var(--border);border-radius:18px;box-shadow:var(--shadow);padding:14px}
.modal h2{margin:6px 0 10px}
.form-row{display:grid;gap:6px;margin:10px 0}
label{font-size:12px;color:var(--muted)}
input,select,textarea{background:rgba(255,255,255,.05);border:1px solid var(--border);color:var(--text);border-radius:10px;padding:10px;outline:none}
textarea{resize:vertical}
.grid-attrs{display:grid;grid-template-columns:repeat(2,1fr);gap:10px}
hr{border:0;border-top:1px solid var(--border);margin:10px 0}
.section-title{font-weight:800;margin:6px 0}
.tablelike{display:grid;gap:8px}
.kv{display:grid;grid-template-columns:120px 1fr;gap:8px;align-items:center}
@media (max-width:1100px){#main{grid-template-columns:1fr}#tabletop-canvas{height:52vh}}
