<!doctype html><html lang="pt-BR"><head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>SUR4 Tabletop</title><base href="./"/><link rel="stylesheet" href="assets/style.css"/>
</head><body>
<header><div style="display:flex;gap:10px;align-items:center;"><div id="brand">SUR4</div><div id="session"></div></div>
<div id="actions">
<button id="btn-room" type="button" class="hidden">Sala</button>
<button id="btn-lock" type="button" class="hidden">Mapa: LIVRE</button>
<button id="btn-fog" type="button" class="hidden">Fog: OFF</button>
<button id="btn-fog-img" type="button" class="hidden">Imagem Fog</button>
<button id="btn-zoom-plus" type="button">+</button><button id="btn-zoom-minus" type="button">-</button>
<button id="btn-exit" type="button" class="danger">Sair</button></div></header>

<main>
<section id="stage">
  <div id="toolbar">
    <button id="btn-add-token" type="button" class="hidden">+ Token</button>
    <button id="btn-clone-token" type="button" class="hidden">Clonar</button>
    <button id="btn-group" type="button" class="hidden">Unir (Grupo)</button>
    <button id="btn-ungroup" type="button" class="hidden">Desunir</button>
    <button id="btn-hide-token" type="button" class="hidden">Ocultar/Mostrar</button>
    <button id="btn-del-token" type="button" class="hidden danger">Apagar Token</button>
    <span class="muted">Arrastar token move. Shift+arrastar = pan. Scroll = zoom. Alt+arrastar (mestre, fog ON) cria área escondida.</span>
  </div>
  <canvas id="c"></canvas>
</section>

<aside id="side">
  <div id="tabs">
    <div class="tab" data-tab="sheet" aria-selected="true">Ficha</div>
    <div class="tab" data-tab="master" aria-selected="false">Mestre</div>
    <div class="tab" data-tab="rolls" aria-selected="false">Rolls</div>
  </div>
  <div id="panel-sheet" class="panel"></div>
  <div id="panel-master" class="panel hidden"></div>
  <div id="panel-rolls" class="panel hidden"></div>
</aside>
</main>

<div id="login" class="modalOverlay">
  <div class="modal">
    <h2>Entrar</h2>
    <div class="card">
      <div class="kv"><div class="muted small">Nome (seu UID)</div><input id="name" maxlength="24" placeholder="ex: Nickollas"/></div>
      <div class="grid2"><button id="createRoom" type="button">Criar mesa</button><button id="joinRoom" type="button">Entrar com código</button></div>
      <div id="joinArea" class="hidden">
        <div class="kv"><div class="muted small">Código da mesa</div><input id="roomCode" maxlength="64" placeholder="ex: room_ab12cd34"/></div>
        <div class="grid2"><button id="confirmJoin" type="button">Entrar</button><button id="cancelJoin" type="button" class="ghost">Cancelar</button></div>
      </div>
      <div class="muted small">Sem senha. UID = nome. (Não use nomes iguais.)</div>
    </div>
  </div>
</div>

<div id="tokenModal" class="modalOverlay hidden">
  <div class="modal">
    <h2>Novo token</h2>
    <div class="card">
      <div class="kv"><div class="muted small">Owner (nome/uid) opcional</div><input id="tokOwner" maxlength="24" placeholder="playerName"/></div>
      <div class="kv"><div class="muted small">Sheet ID (opcional)</div><input id="tokSheet" maxlength="64" placeholder="sheet_xxx"/></div>
      <div class="kv"><div class="muted small">Tamanho (px)</div><input id="tokSize" type="number" min="1" step="1" value="64"/></div>
      <div class="kv"><div class="muted small">Imagem</div><input id="tokFile" type="file" accept="image/*"/></div>
      <div class="grid2"><button id="tokCreate" type="button">Criar</button><button id="tokCancel" type="button" class="ghost">Cancelar</button></div>
    </div>
  </div>
</div>

<div id="fogModal" class="modalOverlay hidden">
  <div class="modal">
    <h2>Imagem Fog</h2>
    <div class="card">
      <div class="kv"><div class="muted small">Opacidade (0–1)</div><input id="fogOpacity" type="number" min="0" max="1" step="0.05" value="0.65"/></div>
      <div class="kv"><div class="muted small">Imagem</div><input id="fogFile" type="file" accept="image/*"/></div>
      <div class="grid2"><button id="fogApply" type="button">Aplicar</button><button id="fogClear" type="button" class="ghost">Remover</button></div>
      <button id="fogClose" type="button" class="ghost">Fechar</button>
    </div>
  </div>
</div>

<script type="module" src="src/app.js"></script>
</body></html>